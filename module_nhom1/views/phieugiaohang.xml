<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="phieu_giao_hang" model="ir.actions.act_window">
            <field name="name">DANH SÁCH PHIẾU GIAO HÀNG</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">stock.picking</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Phiếu Giao Hàng
                </p>
            </field>
        </record>

        <record id="mypet_plus_my_pet_form_view" model="ir.ui.view">
            <field name="name">mypet.plus.my.pet.form.view</field>
            <field name="model">stock.picking</field>
            <field name="inherit_id" ref="stock.view_picking_form"/>
            <field name="arch" type="xml">
                <xpath expr="//group[1]/group[1]/field[@name='picking_type_id']" position="attributes">
                    <attribute name="readonly">0</attribute>
                </xpath>
<!--                <field name="arch" type="xml">-->
<!--                    <xpath expr="//form[@string='Transfer']" position="attributes">-->
<!--                        <attribute name="create">false</attribute>-->
<!--                    </xpath>-->
<!--                </field>-->
                <xpath expr="//group" position="after">
                    <group>
                        <group>
                            <field name="tinhtrang_phieu"/>
                            <field name="ngaytao_phieu" attrs="{'invisible':[('tinhtrang_phieu','=','wait')]}"/>
                            <field name="id_nhanvien_taophieu" attrs="{'invisible':[('tinhtrang_phieu','=','wait')]}"/>
                        </group>
                        <group>
                            <group>
                                <field name="id_shipper_phieu"
                                       domain="[('trangthai','=','chogiaohang'),('covid','=',True)]"
                                       attrs="{'invisible':[('tinhtrang_phieu','=','wait')]}"/>
                            </group>
                            <group>
                                <field name="ten" readonly="1" attrs="{'invisible':[('tinhtrang_phieu','=','wait')]}"/>
                                <field name="gioitinh" readonly="1" attrs="{'invisible':[('tinhtrang_phieu','=','wait')]}"/>
                                <field name="covid" readonly="1" attrs="{'invisible':[('tinhtrang_phieu','=','wait')]}"/>
                            </group>

                            <group>
                                <field name="id_xe_phieu" attrs="{'invisible':[('tinhtrang_phieu','=','wait')]}"/>
                            </group>
                            <group>
                                <h5>Biển số xe</h5>
                                <h5>Trọn tải</h5>
                                <h5>Bảo hiểm xe</h5>
                            </group>
                        </group>
                    </group>
                </xpath>
            </field>
        </record>
        <record id="mypet_plus_my_pet_tree_view" model="ir.ui.view">
            <field name="name">mypet.plus.my.pet.tree.view</field>
            <field name="model">stock.picking</field>
            <field name="inherit_id" ref="stock.vpicktree"/>
            <field name="arch" type="xml">
                <field name="scheduled_date" position="after">
                    <field name="tinhtrang_phieu"
                           widget="badge"
                           decoration-success="tinhtrang_phieu == 'done'"
                           decoration-warning="tinhtrang_phieu == 'doing'"
                           decoration-danger="tinhtrang_phieu == 'delay'"
                           decoration-info="tinhtrang_phieu == 'wait'"/>
                    <field name="ngaytao_phieu"/>
                    <field name="id_shipper_phieu"/>
                    <field name="id_nhanvien_taophieu"/>
                    <field name="id_xe_phieu"/>
                </field>
                <xpath expr="/tree" position="attributes">
                    <attribute name="create">true</attribute>
                </xpath>
            </field>
        </record>
        <record id="phieu_wait_action" model="ir.actions.act_window">
            <field name="name">Phiếu giao hàng - Chờ chuyển</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">stock.picking</field>
            <field name="view_mode">tree,kanban,form</field>
            <field name="context">{}</field>
            <field name="domain">[('tinhtrang_phieu','=','wait')]</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Create a new delivery order !
                </p>
            </field>
        </record>
        <record id="phieu_doing_action" model="ir.actions.act_window">
            <field name="name">Phiếu giao hàng - Đang chuyển</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">stock.picking</field>
            <field name="view_mode">tree,kanban,form</field>
            <field name="context">{}</field>
            <field name="domain">[('tinhtrang_phieu','=','doing')]</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Create a new delivery order !
                </p>
            </field>
        </record>
        <record id="phieu_done_action" model="ir.actions.act_window">
            <field name="name">Phiếu giao hàng - Đã chuyển</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">stock.picking</field>
            <field name="view_mode">tree,kanban,form</field>
            <field name="context">{}</field>
            <field name="domain">[('tinhtrang_phieu','=','done')]</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Create a new delivery order !
                </p>
            </field>
        </record>
        <record id="phieu_delay_action" model="ir.actions.act_window">
            <field name="name">Phiếu giao hàng - Trì hoãn chuyển</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">stock.picking</field>
            <field name="view_mode">tree,kanban,form</field>
            <field name="context">{}</field>
            <field name="domain">[('tinhtrang_phieu','=','delay')]</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Create a new delivery order !
                </p>
            </field>
        </record>
        <!--Phiếu giao hàng-->
        <menuitem id="module_kho"
                    name="Quản lí Phiếu giao hàng"
                    parent="kho_root"
                    action = "phieu_giao_hang"
                    sequence="6"/>
        <menuitem id="phieu_giaohang"
                  name=" Danh sách Phiếu giao hàng"
                  parent="module_kho"
                  action="phieu_giao_hang"
                  sequence="7"/>
        <menuitem id="phieu_wait"
                   name="Chờ chuyển"
                   parent="module_kho"
                   action = "phieu_wait_action"
                   sequence="8"/>
        <menuitem id="phieu_doing"
                   name="Đang chuyển"
                   parent="module_kho"
                   action = "phieu_doing_action"
                   sequence="9"/>
        <menuitem id="phieu_done"
                   name="Đã chuyển"
                   parent="module_kho"
                   action = "phieu_done_action"
                   sequence="10"/>
        <menuitem id="phieu_delay"
                   name="Trì hoãn chuyển"
                   parent="module_kho"
                   action = "phieu_delay_action"
                   sequence="11"/>
    </data>
</odoo>
