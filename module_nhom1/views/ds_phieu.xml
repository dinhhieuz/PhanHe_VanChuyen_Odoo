<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="phieu_giao_hang" model="ir.actions.act_window">
            <field name="name">DANH SÁCH PHIẾU GIAO HÀNG</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">stock.picking</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Phiếu Giao Hàng
                </p>
            </field>
        </record>
        <record id="mypet_plus_my_pet_form_view" model="ir.ui.view">
            <field name="name">mypet.plus.my.pet.form.view</field>
            <field name="model">stock.picking</field>
            <field name="inherit_id" ref="stock.view_picking_form"/>
            <field name="arch" type="xml">
                <xpath expr="//group[1]/group[1]/field[@name='picking_type_id']" position="attributes">
                    <attribute name="readonly">0</attribute>
                </xpath>
<!--                <field name="arch" type="xml">-->
<!--                    <xpath expr="//form[@string='Transfer']" position="attributes">-->
<!--                        <attribute name="create">false</attribute>-->
<!--                    </xpath>-->
<!--                </field>-->
                <xpath expr="//group" position="after">
                    <group string="Thông tin liên quan">
                        <group>
                                <field name="tinhtrang_phieu"/>
                                <field name="ngaytao_phieu" attrs="{'invisible':[('tinhtrang_phieu','=','wait')]}"/>
                                <field name="id_nhanvien_taophieu" attrs="{'invisible':[('tinhtrang_phieu','=','wait'),('name', '!=', None)]}"/>
                        </group>
                        <group>
                                <group>
                                    <field name="id_shipper_phieu"
                                           domain="[('trangthai','=','chogiaohang'),('covid','=',True), ('ten','!=', None)]"
                                           attrs="{'invisible':[('tinhtrang_phieu','=','wait')]}"/>
    <!--                            </group>-->
    <!--                            <group>-->
                                    <field name="gioitinh" readonly="1" attrs="{'invisible':[('tinhtrang_phieu','=','wait')]}"/>
                                    <field name="sdt" readonly="1" attrs="{'invisible':[('tinhtrang_phieu','=','wait')]}"/>
                                    <field name="covid" readonly="1" attrs="{'invisible':[('tinhtrang_phieu','=','wait')]}"/>
                                </group>

                                <group>
                                    <field name="id_xe_phieu"
                                           domain="[('tinhtrang', '=', 'chohoatdong'), ('bienso', '!=', None)]"
                                           attrs="{'invisible':[('tinhtrang_phieu','=','wait')]}"/>
    <!--                            </group>-->
    <!--                            <group>-->
                                    <field name="loaipt" readonly="1" attrs="{'invisible':[('tinhtrang_phieu','=','wait')]}"/>
                                    <field name="trongtai" readonly="1" attrs="{'invisible':[('tinhtrang_phieu','=','wait')]}"/>
                                    <field name="mabh" readonly="1" attrs="{'invisible':[('tinhtrang_phieu','=','wait')]}"/>
                                </group>
                        </group>
                    </group>
                </xpath>
            </field>
        </record>
        <record id="mypet_plus_my_pet_tree_view" model="ir.ui.view">
            <field name="name">mypet.plus.my.pet.tree.view</field>
            <field name="model">stock.picking</field>
            <field name="inherit_id" ref="stock.vpicktree"/>
            <field name="arch" type="xml">
                <field name="scheduled_date" position="after">
                    <field name="tinhtrang_phieu"
                           widget="badge"
                           decoration-success="tinhtrang_phieu == 'done'"
                           decoration-warning="tinhtrang_phieu == 'doing'"
                           decoration-danger="tinhtrang_phieu == 'delay'"
                           decoration-info="tinhtrang_phieu == 'wait'"/>
                    <field name="ngaytao_phieu"/>
                    <field name="id_shipper_phieu"/>
                    <field name="id_nhanvien_taophieu"/>
                    <field name="id_xe_phieu"/>
                </field>
                <xpath expr="/tree" position="attributes">
                    <attribute name="create">true</attribute>
                </xpath>
            </field>
        </record>
        <!--Phiếu giao hàng-->
        <menuitem id="module_kho"
                    name="Quản lí Phiếu giao hàng"
                    parent="kho_root"
                    action = "phieu_giao_hang"
                    sequence="8"/>
        <menuitem id="phieu_giaohang"
                  name=" Danh sách Phiếu giao hàng"
                  parent="module_kho"
                  action="phieu_giao_hang"
                  sequence="7"/>

    </data>
</odoo>
